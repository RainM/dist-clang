import("//build/config/templates.gni")

config("includes") {
  include_dirs = [ ".." ]
}

headers("gmock_headers") {
  sources = [
    "gmock-actions.h",
    "gmock-cardinalities.h",
    "gmock-generated-actions.h",
    "gmock-generated-function-mockers.h",
    "gmock-generated-matchers.h",
    "gmock-generated-nice-strict.h",
    "gmock.h",
    "gmock-matchers.h",
    "gmock-more-actions.h",
    "gmock-more-matchers.h",
    "gmock-spec-builders.h",
  ]

  direct_dependent_configs = [ ":includes" ]
}

shared_library("gmock") {
  sources = [
    "gmock-all.cc",
    "internal/gmock-generated-internal-utils.h",
    "internal/gmock-internal-utils.h",
    "internal/gmock-port.h",
  ]

  configs += [ ":includes" ]

  deps += [ "//src/third_party/gtest:gtest" ]
}
